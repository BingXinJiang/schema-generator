(this["webpackJsonpschema-generator"]=this["webpackJsonpschema-generator"]||[]).push([[0],{155:function(e,t,a){},182:function(e){e.exports=JSON.parse('{"propsSchema":{"type":"object","properties":{"column":{"title":"\u6574\u4f53\u5e03\u5c40","type":"string","enum":[1,2,3],"enumNames":["\u4e00\u884c\u4e00\u5217","\u4e00\u884c\u4e8c\u5217","\u4e00\u884c\u4e09\u5217"],"ui:options":{"placeholder":"\u9ed8\u8ba4\u4e00\u884c\u4e00\u5217"}},"labelWidth":{"title":"\u6807\u7b7e\u5bbd\u5ea6","type":"number","ui:widget":"slider","max":300,"ui:options":{"hideNumber":true}},"displayType":{"title":"\u6807\u7b7e\u5c55\u793a\u6a21\u5f0f","type":"string","enum":["row","column"],"enumNames":["\u540c\u884c","\u5355\u72ec\u4e00\u884c"],"ui:widget":"radio"}},"required":[]},"formData":{}}')},194:function(e,t,a){e.exports=a(345)},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},336:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),l=a.n(i),o=(a(199),a(35)),c=a(5),s=a(18),m=Object(n.createContext)((function(){})),u=Object(n.createContext)({}),d=Object(n.createContext)({}),p=function(){return Object(n.useContext)(m)},f=function(){return Object(n.useContext)(u)},h=function(){return Object(n.useContext)(d)},g=function(e){var t=Object(n.useReducer)((function(e,t){var a=t;return"function"===typeof t&&(a=a(e)),t.action&&t.payload&&"function"===typeof(a=t.payload)&&(a=a(e)),Object(c.a)({},e,{},a)}),e),a=Object(s.a)(t,2),r=a[0],i=a[1];return[r,function(e,t){i(e)}]};var v=a(162),b=a.n(v),y={$id:{title:"ID",description:"\u6570\u636e\u5b58\u50a8\u7684\u540d\u79f0\uff0c\u8bf7\u5199\u82f1\u6587\uff0c\u4e0d\u80fd\u4e3a\u7a7a",type:"string","ui:widget":"idInput"},title:{title:"\u6807\u9898",type:"string"},description:{title:"\u8bf4\u660e",type:"string"},"ui:width":{title:"\u5143\u7d20\u5bbd\u5ea6",type:"string","ui:widget":"percentSlider"},"ui:labelWidth":{title:"\u6807\u7b7e\u5bbd\u5ea6",description:"\u9ed8\u8ba4\u503c120",type:"number","ui:widget":"slider",max:400,"ui:options":{hideNumber:!0}},default:{title:"\u9ed8\u8ba4\u503c",type:"string"},"ui:readonly":{title:"\u7f6e\u7070",type:"boolean"}},E=[[{text:"\u8f93\u5165\u6846",name:"input",widget:"input",schema:{title:"\u8f93\u5165\u6846",type:"string"},setting:{"ui:options":{title:"\u9009\u9879",type:"object","ui:labelWidth":80,properties:{allowClear:{title:"\u662f\u5426\u5e26\u6e05\u9664\u6309\u94ae",description:"\u586b\u5199\u5185\u5bb9\u540e\u624d\u4f1a\u51fa\u73b0x\u54e6",type:"boolean"},addonBefore:{title:"\u524dtab",type:"string"},addonAfter:{title:"\u540etab",type:"string"},prefix:{title:"\u524d\u7f00",type:"string"},suffix:{title:"\u540e\u7f00",type:"string"}}},minLength:{title:"\u6700\u77ed\u5b57\u6570",type:"number"},maxLength:{title:"\u6700\u957f\u5b57\u6570",type:"number"},pattern:{title:"\u6821\u9a8c\u6b63\u5219\u8868\u8fbe\u5f0f",type:"string","ui:options":{placeholder:"\u586b\u5199\u6b63\u5219\u8868\u8fbe\u5f0f"}}}},{text:"\u5927\u8f93\u5165\u6846",name:"textarea",widget:"textarea",schema:{title:"\u7f16\u8f91\u6846",type:"string",format:"textarea"},setting:{"ui:options":{title:"\u9009\u9879",type:"object","ui:labelWidth":80,properties:{autoSize:{title:"\u9ad8\u5ea6\u81ea\u52a8",type:"boolean"},row:{title:"\u6307\u5b9a\u9ad8\u5ea6",type:"number"}}},minLength:{title:"\u6700\u77ed\u5b57\u6570",type:"number"},maxLength:{title:"\u6700\u957f\u5b57\u6570",type:"number"},pattern:{title:"\u6821\u9a8c\u6b63\u5219\u8868\u8fbe\u5f0f",type:"string","ui:options":{placeholder:"\u586b\u5199\u6b63\u5219\u8868\u8fbe\u5f0f"}}}},{text:"\u65e5\u671f\u9009\u62e9",name:"date",widget:"date",schema:{title:"\u65e5\u671f\u9009\u62e9",type:"string",format:"date"},setting:{format:{title:"\u683c\u5f0f",type:"string",enum:["dateTime","date","time"],enumNames:["\u65e5\u671f\u65f6\u95f4","\u65e5\u671f","\u65f6\u95f4"]}}},{text:"\u6570\u5b57\u8f93\u5165\u6846",name:"number",widget:"number",schema:{title:"\u6570\u5b57\u8f93\u5165\u6846",type:"number"},setting:{}},{text:"\u662f\u5426\u9009\u62e9",name:"checkbox",widget:"checkbox",schema:{title:"\u662f\u5426\u9009\u62e9",type:"boolean"},setting:{default:{title:"\u9ed8\u8ba4\u662f\u5426",type:"boolean"}}},{text:"\u662f\u5426switch",name:"checkbox",widget:"switch",schema:{title:"\u662f\u5426\u9009\u62e9",type:"boolean","ui:widget":"switch"},setting:{default:{title:"\u9ed8\u8ba4\u662f\u5426",type:"boolean"}}},{text:"\u4e0b\u62c9\u5355\u9009",name:"select",widget:"select",schema:{title:"\u5355\u9009",type:"string",enum:["a","b","c"],enumNames:["\u65e9","\u4e2d","\u665a"]},setting:{enum:{title:"\u9009\u9879\u5b57\u6bb5",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}},enumNames:{title:"\u9009\u9879\u540d\u79f0",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}}}},{text:"\u70b9\u51fb\u5355\u9009",name:"radio",widget:"radio",schema:{title:"\u5355\u9009",type:"string",enum:["a","b","c"],enumNames:["\u65e9","\u4e2d","\u665a"],"ui:widget":"radio"},setting:{enum:{title:"\u9009\u9879\u5b57\u6bb5",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}},enumNames:{title:"\u9009\u9879\u540d\u79f0",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}}}},{text:"\u4e0b\u62c9\u591a\u9009",name:"multiSelect",widget:"multiSelect",schema:{title:"\u591a\u9009",description:"\u4e0b\u62c9\u591a\u9009",type:"array",items:{type:"string"},enum:["A","B","C","D"],enumNames:["\u676d\u5dde","\u6b66\u6c49","\u6e56\u5dde","\u8d35\u9633"],"ui:widget":"multiSelect"},setting:{enum:{title:"\u9009\u9879\u5b57\u6bb5",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}},enumNames:{title:"\u9009\u9879\u540d\u79f0",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}}}},{text:"\u70b9\u51fb\u591a\u9009",name:"checkboxes",widget:"checkboxes",schema:{title:"\u591a\u9009",description:"\u70b9\u51fb\u591a\u9009",type:"array",items:{type:"string"},enum:["A","B","C","D"],enumNames:["\u676d\u5dde","\u6b66\u6c49","\u6e56\u5dde","\u8d35\u9633"]},setting:{enum:{title:"\u9009\u9879\u5b57\u6bb5",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}},enumNames:{title:"\u9009\u9879\u540d\u79f0",type:"array",enum:[],"ui:widget":"select","ui:options":{mode:"tags"}}}}],[{text:"\u65e5\u671f\u8303\u56f4",name:"dateRange",widget:"dateRange",schema:{title:"\u65e5\u671f\u8303\u56f4",type:"range",format:"dateTime","ui:options":{placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},setting:{format:{title:"\u7c7b\u578b",type:"string",enum:["dateTime","date"],enumNames:["\u65e5\u671f\u65f6\u95f4","\u65e5\u671f"]}}},{text:"\u6570\u5b57\uff08slider\uff09",name:"slider",widget:"slider",schema:{title:"\u5e26\u6ed1\u52a8\u6761",type:"number","ui:widget":"slider"},setting:{}},{text:"\u56fe\u7247\u5c55\u793a",name:"image",schema:{title:"\u56fe\u7247\u5c55\u793a",type:"string",format:"image"},setting:{}},{text:"\u989c\u8272\u9009\u62e9",name:"color",widget:"color",schema:{title:"\u989c\u8272\u9009\u62e9",type:"string",format:"color"},setting:{}}],[{text:"object",name:"object",schema:{title:"\u5bf9\u8c61",type:"object",properties:{}},widget:"map",setting:{}},{text:"\u5217\u8868",name:"list",widget:"list",schema:{title:"\u6570\u7ec4",type:"array",items:{type:"object",properties:{}}},setting:{minItems:{title:"\u6700\u5c0f\u957f\u5ea6",type:"number"},maxItems:{title:"\u6700\u5927\u957f\u5ea6",type:"number"},"ui:options":{title:"\u9009\u9879",type:"object",properties:{foldable:{title:"\u662f\u5426\u53ef\u6298\u53e0",type:"boolean"}}}}}],[{text:"\u590d\u6742\u7ed3\u6784\u6837\u4f8b",name:"something",schema:{title:"\u5bf9\u8c61",description:"\u8fd9\u662f\u4e00\u4e2a\u5bf9\u8c61\u7c7b\u578b",type:"object",properties:{inputName:{title:"\u7b80\u5355\u8f93\u5165\u6846",type:"string"},selectName:{title:"\u5355\u9009",type:"string",enum:["a","b","c"],enumNames:["\u65e9","\u4e2d","\u665a"]},dateName:{title:"\u65f6\u95f4\u9009\u62e9",type:"string",format:"date"},listName:{title:"\u5bf9\u8c61\u6570\u7ec4",description:"\u5bf9\u8c61\u6570\u7ec4\u5d4c\u5957\u529f\u80fd",type:"array",items:{type:"object",properties:{rangeName:{title:"\u65e5\u671f/\u65f6\u95f4\u8303\u56f4",type:"range",format:"date","ui:options":{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]}}}}}}}}]],w=E=E.map((function(e){return e.map((function(e){return Object(c.a)({},e,{setting:Object(c.a)({},y,{},e.setting)})}))})),j=(a(200),a(66)),O=a.n(j),x=Object(s.a)(w,4),C=x[0],N=x[1],k=x[2],S=x[3],I=function(e){return r.a.createElement("div",{className:"left-layout"},r.a.createElement("p",{className:"f6 b"},"\u57fa\u7840\u7ec4\u4ef6"),r.a.createElement("ul",{className:"pl0"},C.map((function(t,a){return r.a.createElement("li",{key:a.toString(),className:"left-item"},r.a.createElement(T,Object.assign({},t,e,{key:a.toString()})))}))),r.a.createElement("p",{className:"f6 b"},"\u590d\u6742\u7ec4\u4ef6"),r.a.createElement("ul",{className:"pl0"},N.map((function(t,a){return r.a.createElement("li",{key:a.toString(),className:"left-item"},r.a.createElement(T,Object.assign({},t,e,{key:a.toString()})))}))),r.a.createElement("p",{className:"f6 b"},"\u5e03\u5c40\u7ec4\u4ef6"),r.a.createElement("ul",{className:"pl0"},k.map((function(t,a){return r.a.createElement("li",{key:a.toString(),className:"left-item"},r.a.createElement(T,Object.assign({},t,e,{key:a.toString()})))}))),r.a.createElement("p",{className:"f6 b"},"\u5b58\u6863"),r.a.createElement("ul",{className:"pl0"},S.map((function(t,a){return r.a.createElement("li",{key:a.toString(),className:"left-item"},r.a.createElement(T,Object.assign({},t,e,{key:a.toString()})))}))))},T=function(e){var t=e.text,a=e.name,n=e.schema,i=p(),l=f().selected,o=h(),s=o.flatten,m=o.onFlattenChange;return r.a.createElement("div",{className:"left-element",onClick:function(){var e,t=l||"#";if(t&&"0"===t[0]||"#"===t)try{var r=Object(c.a)({},s),o=t.substring(1);e=o+"/"+a+"_"+O()(6),"#"===t&&(e="#/"+a+"_"+O()(6),o="#"),r[o].children.push(e);var u={parent:o,schema:Object(c.a)({},n,{$id:e}),data:void 0,children:[]};r[e]=u,m(r),i({selected:e})}catch(y){console.error(y,"catch")}else{var d=a+"_"+O()(6),p=l.split("/");p.pop(),p.push(d),e=p.join("/");try{var f=Object(c.a)({},s),h=f[l],g=f[h.parent].children,v=g.findIndex((function(e){return e===l}));g.splice(v+1,0,e);var b={parent:h.parent,schema:Object(c.a)({},n,{$id:e}),data:void 0,children:[]};f[e]=b,m(f),i({selected:e})}catch(y){console.error(y)}}}},t)},D=a(156),A=(a(201),a(31)),L=a(358);var R=a(163),M=a.n(R),F=a(354);a(254);var $=a(347),P=a(133),_=a(39),W=a.n(_),z=a(109),H=a.n(z);function B(e){var t;switch(e){case"date":t="YYYY-MM-DD";break;case"time":t="HH:mm:ss";break;default:t="YYYY-MM-DD HH:mm:ss"}return t}function J(e){return 0===Object.keys(e).length}function Y(e){if(!e)return[];var t=e.properties,a=e.items,n=e.type;if(!t&&!a)return[];var r={};return"object"===n&&(r=t),"array"===n&&(r=a),Object.keys(r).map((function(e){return{schema:r[e],name:e}}))}function G(e){return"function"===typeof e||("string"===typeof e&&"@"===e.substring(0,1)?e.substring(1):"string"===typeof e&&"{{"===e.substring(0,2)&&"}}"===e.substring(e.length-2,e.length)&&e.substring(2,e.length-2))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=H()(e);r.$id||(r.$id=t);var i=[],l="object"===r.type&&r.properties,o="array"===r.type&&r.items&&r.items.properties;return l&&(Object.entries(r.properties).forEach((function(e){var a=Object(s.a)(e,2),r=a[0],l=a[1],o=t+"/"+r;i.push(o),K(l,o,t,n)})),delete r.properties),o&&(Object.entries(r.items.properties).forEach((function(e){var a=Object(s.a)(e,2),r=a[0],l=a[1],o=t+"/"+r;i.push(o),K(l,o,t,n)})),delete r.items.properties),r.type&&(n[t]={parent:a,schema:r,children:i}),n}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#",t=e.split("/");return t[t.length-1]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something",a=e.split("/");return"string"!==typeof t&&"number"!==typeof t||(a[a.length-1]=t),a.join("/")};function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={},r=e[t],i=H()(r);return i&&(n=Object(c.a)({},i.schema),a&&n.$id&&delete n.$id,i.children.length>0&&i.children.forEach((function(t){var r=t;if(e[t]){try{a&&(r=e[t].schema.$id)}catch(l){console.log("catch",l)}var i=U(r);"object"===n.type&&(n.properties||(n.properties={}),n.properties[i]=q(e,t,a)),"array"===n.type&&n.items&&"object"===n.items.type&&(n.items.properties||(n.items.properties={}),n.items.properties[i]=q(e,t,a))}}))),n}var V=function(e,t){if(e&&t)return Object.entries(e).forEach((function(a){var n=Object(s.a)(a,2),r=n[0],i=(n[1],function(e,t){if("#"===t)return e;try{var a=t.split("/").filter((function(e){return"#"!==e})).map((function(e){return'["'.concat(e,'"]')})).join(""),n="data".concat(a),r='"use strict";\n    const data = '.concat(JSON.stringify(e),";\n    return ").concat(n);return Function(r)()}catch(i){return}}(t,r));e[r].data=i})),e};var Z=P.a.RangePicker;var Q=a(46),ee=a(47),te=a(58),ae=a(111),ne=a(62),re=a(44),ie=a(82),le=function(e){var t=e.fold,a=void 0!==t&&t,n=e.width,i=e.height,l=e.fill,c=e.style,s=void 0===c?{}:c,m=Object(o.a)(e,["fold","width","height","fill","style"]);return r.a.createElement("div",Object.assign({style:s,className:a?"fold-icon":"fold-icon fold-icon-active"},m),r.a.createElement("svg",{viewBox:"0 0 1024 1024",width:n||18,height:i||18},r.a.createElement("path",{d:"M942.048 306.176c-12.288-12.288-31.328-13.024-43.008-2.016L529.056 674.112c-15.072 15.872-19.008 15.808-34.816 0L124.288 304.16c-11.68-11.04-30.72-10.272-43.008 2.016-12.512 12.512-13.216 32.032-1.6 43.68L490.624 760.8c5.056 5.056 11.648 7.328 18.464 7.744h5.152c6.816-.448 13.408-2.72 18.464-7.744l410.944-410.944c11.584-11.648 10.88-31.2-1.6-43.68z",fill:l||"#3c3c3c"})))},oe=function(e){var t=e.schema,a=void 0===t?{}:t,n=e.value,i=void 0===n?[]:n,l=e.index,o=ce({schema:a,value:i,index:l}).filter((function(e){return e.title})).slice(0,3);return r.a.createElement("ul",{className:"flex overflow-hidden",style:{paddingRight:45}},o.map((function(e,t){return e.title?r.a.createElement("li",{className:"flex-auto mr2 overflow-hidden",key:t},r.a.createElement("span",{className:"fw5"},e.title,": "),r.a.createElement("span",null,e.text)):null})))},ce=function(e){var t=e.schema,a=void 0===t?{}:t,n=e.value,r=void 0===n?[]:n,i=e.index,l=a.items,o=void 0===l?{}:l;if("object"!==o.type)return[];var c=o&&o.properties||{};c=Object.values(c);var s=r&&r.length&&r[i]||{},m=Object.values(s);return c.map((function(e,t){if(!(e&&e["ui:hidden"])){var a=e.title,n=m[t];return null===n&&void 0===n?n="":"boolean"===typeof n?n=n?"\u662f":"\u5426":"string"!==typeof n&&"number"!==typeof n&&n?n="{\u590d\u6742\u7ed3\u6784}":e.enum&&e.enumNames&&(n=function e(t,a,n){if(Array.isArray(a)&&Array.isArray(n)){if("string"===typeof t||"number"===typeof t){var r=a.indexOf(t);return r>-1?n[r]:t}if(Array.isArray(t)){var i=t.map((function(r){return e(t,a,n)}));return String(i)}return t}return t}(n,e.enum,e.enumNames)),{title:a,text:n}}})).filter((function(e){return!!e}))},se=Object(ie.c)((function(){return r.a.createElement("span",{className:"fr-move-icon"},":::")})),me=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toggleFold=function(){e.props.toggleFoldItem(e.props.name)},e}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.p,a=void 0===t?{}:t,n=e.name,r=e.fold,i=ce({schema:a.schema,value:a.value,index:n});i&&i[0]&&i[0].text&&0!==r&&this.props.toggleFoldItem(n)}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.p,n=void 0===a?{}:a,i=e.name,l=e.fold,o=Object(c.a)({},n,{index:i}),s=n.options,m=void 0===s?{}:s,u=n.readonly,d=n.formData,p=n.value,f=m.foldable,h=m.hideDelete,g=m.itemButtons,v=G(h);v&&("string"===typeof v?h=function(e,t,a){return Function('"use strict";\n    const rootValue = '.concat(JSON.stringify(a),";\n    const formData = ").concat(JSON.stringify(t),";\n    return (").concat(e,")"))()}(v,d,p):"function"===typeof v&&(h=v(d,p)));var b=n.schema.items&&"object"==n.schema.items.type,y="fr-set ba b--black-10 hover-b--black-20 relative flex flex-column";return f&&l?y+=" pv12":"row"===n.displayType&&(y+=" pt44"),r.a.createElement("li",{className:y},f&&l&&b?r.a.createElement(oe,o):t,f&&r.a.createElement(le,{fold:l,onClick:this.toggleFold,style:{position:"absolute",top:12,right:32}}),!u&&r.a.createElement(se,null),!(f&&l||h||u)&&r.a.createElement("div",{className:"self-end flex"},r.a.createElement(he,{type:"dashed",icon:"delete",onClick:function(){var e=Object(A.a)(n.value);e.splice(i,1),n.onChange(e)}},"\u5220\u9664"),g&&g.length>0&&g.map((function(e,t){return r.a.createElement(he,{key:t.toString(),className:"ml2",type:"dashed",icon:e.icon,onClick:function(){var t=Object(A.a)(n.value);if("function"===typeof window[e.callback]){var a=window[e.callback](t,i);n.onChange(a)}}},e.text||"")}))))}}]),a}(r.a.Component),ue=Object(ie.b)(me),de=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleAddClick=function(){var t=e.props,a=t.p,n=t.addUnfoldItem,r=Object(A.a)(a.value);r.push(a.newItem),a.onChange(r),n()},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.props,t=e.p,a=e.foldList,n=void 0===a?[]:a,i=e.toggleFoldItem,l=t||{},o=l.options,c=void 0===o?{}:o,s=l.extraButtons,m=void 0===s?{}:s,u=c.buttons||m||[],d=t.readonly,p=t.schema,f=(void 0===p?{}:p).maxItems,h=t.value||[],g=!f||f>h.length;return r.a.createElement("ul",{className:"pl0 ma0"},h.map((function(e,a){return r.a.createElement(ue,{key:"item-".concat(a),index:a,name:a,p:t,fold:n[a],toggleFoldItem:i,item:t.children})})),!d&&r.a.createElement("div",{className:"tr"},g&&r.a.createElement(he,{icon:"add",onClick:this.handleAddClick},"\u65b0\u589e"),u&&u.length>0&&u.map((function(e,a){return r.a.createElement(he,{className:"ml2",icon:e.icon,key:a.toString(),onClick:function(){if("clearAll"!==e.callback){if("copyLast"===e.callback){var a=Object(A.a)(t.value),n=a.length-1;return a.push(n>-1?a[n]:t.newItem),void t.onChange(a)}if("function"===typeof window[e.callback]){var r=Object(A.a)(t.value);window[e.callback](r,(function(e){return t.onChange(e)}),t.newItem)}}else t.onChange([])}},e.text)}))))}}]),a}(r.a.Component),pe=Object(ie.a)(de),fe=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n;Object(Q.a)(this,a),(n=t.call(this,e)).addUnfoldItem=function(){return n.setState({foldList:[].concat(Object(A.a)(n.state.foldList),[0])})},n.toggleFoldItem=function(e){var t=n.state.foldList,a=void 0===t?[]:t;a[e]=!a[e],n.setState({foldList:a})},n.handleSort=function(e){var t=e.oldIndex,a=e.newIndex,r=n.props,i=r.onChange,l=r.value;i(Object(ie.d)(l,t,a)),n.setState({foldList:Object(ie.d)(n.state.foldList,t,a)})};var r=n.props.value.length||0;return n.state={foldList:new Array(r).fill(!1)||[]},n}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.state.foldList;return r.a.createElement(pe,{p:this.props,foldList:e,toggleFoldItem:this.toggleFoldItem,addUnfoldItem:this.addUnfoldItem,distance:6,useDragHandle:!0,helperClass:"fr-sort-help-class",shouldCancelStart:function(e){return e.toElement&&"fr-tooltip-container"===e.toElement.className},onSortEnd:this.handleSort})}}]),a}(r.a.Component);function he(e){var t,a=e.icon,n=e.children,i=Object(o.a)(e,["icon","children"]);switch(a){case"add":t="PlusCircleOutlined";break;case"delete":t="DeleteOutlined";break;default:t=a}var l=ne[t];return l?r.a.createElement(re.a,Object.assign({},i,{icon:r.a.createElement(l,null)}),n):r.a.createElement(re.a,i,n)}fe.defaultProps={value:[]};var ge=fe,ve=a(157),be=a(159);var ye,Ee,we=a(353),je=(ye=we.a,function(e){var t=ye.Option,a=e.invalid?{borderColor:"#f5222d"}:{},n=e.schema||{},i=n.enum,l=n.enumNames,o=e.value&&Array.isArray(e.value)?e.value:[];return r.a.createElement(ye,Object.assign({},e.options,{style:Object(c.a)({width:"100%"},a),mode:"multiple",disabled:e.disabled||e.readonly,value:o,onChange:function(t){return e.onChange(t)}}),(i||[]).map((function(e,a){return r.a.createElement(t,{value:e,key:a},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:l?l[a]:e}}))})))}),Oe=a(356),xe=(Ee=Oe.a,function(e){var t=e.invalid?{borderColor:"#f5222d"}:{},a=e.schema,n=a.max,i=a.min,l=a.step,o={};return(n||0===n)&&(o={max:n}),(i||0===i)&&(o=Object(c.a)({},o,{min:i})),l&&(o=Object(c.a)({},o,{step:l})),r.a.createElement(Ee,Object.assign({},o,{style:Object(c.a)({width:"100%"},t),disabled:e.disabled||e.readonly},e.options,{value:e.value,onChange:e.onChange}))}),Ce=a(357);var Ne,ke=(Ne=we.a,function(e){var t=Ne.Option,a=e.invalid?{borderColor:"#f5222d"}:{},n=e.schema||{},i=n.enum,l=n.enumNames;return r.a.createElement(Ne,Object.assign({style:Object(c.a)({width:"100%"},a)},e.options,{disabled:e.disabled||e.readonly,value:e.value,onChange:function(t){return e.onChange(t)}}),(i||[]).map((function(e,a){var n=l?l[a]:e;return"string"===typeof n&&"<"===n[0]&&(n=r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),r.a.createElement(t,{value:e,key:a},n)})))}),Se=a(352),Ie=function(e){var t=e.invalid?{borderColor:"#f5222d"}:{},a=e.schema,n=a.max,i=a.min,l=a.step,o={};(n||0===n)&&(o={max:n}),(i||0===i)&&(o=Object(c.a)({},o,{min:i})),l&&(o=Object(c.a)({},o,{step:l}));var s=!1;e.options&&e.options.hideNumber&&(s=!0);var m=e.readonly?r.a.createElement("span",{style:{width:"90px"}},""===e.value?"-":e.value):r.a.createElement(Oe.a,Object.assign({},e.options,o,{style:Object(c.a)({width:"90px"},t),value:e.value,disabled:e.disabled,onChange:e.onChange}));return r.a.createElement("div",{className:"fr-slider"},r.a.createElement(Se.a,Object.assign({style:{flexGrow:1,marginRight:s?0:12}},o,{onChange:e.onChange,value:"number"===typeof e.value?e.value:i||0,disabled:e.disabled||e.readonly})),s?null:m)},Te=a(348);var De=F.a.TextArea;var Ae=a(161),Le=a(355),Re=a(349);var Me=a(158),Fe=a(359),$e=function(e,t){return"image"===e?r.a.createElement("img",{src:t||"https://img.alicdn.com/tfs/TB14tSiKhTpK1RjSZFKXXa2wXXa-354-330.png",alt:"\u56fe\u7247\u5730\u5740\u9519\u8bef",className:"fr-preview-image"}):null},Pe=function(e,t){return"image"!==e?null:r.a.createElement(Fe.a,{content:$e(e,t),className:"fr-preview",placement:"bottom"},r.a.createElement(Me.a,null))};var _e={checkbox:function(e){var t=e.value,a=e.onChange,n=e.disabled,i=e.readonly;return r.a.createElement(L.a,{disabled:n||i,onChange:function(e){a(e.target.checked)},checked:t})},checkboxes:function(e){var t=e.schema||{},a=t.enum,n=t.enumNames,i=e.value&&Array.isArray(e.value)?e.value:[];return r.a.createElement(L.a.Group,{disabled:e.disabled||e.readonly,value:i,onChange:e.onChange},(a||[!0,!1]).map((function(e,t){return r.a.createElement(L.a,{value:e,key:t},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n?n[t]:e}}))})))},color:function(e){var t=e.schema.format;return r.a.createElement("div",{className:"fr-color-picker"},r.a.createElement(M.a,{type:t,animation:"slide-up",color:e.value?e.value:"#ffffff",onChange:function(t){e.disabled||e.readonly||e.onChange(t.color)}}),e.readonly?r.a.createElement("span",null,e.value||"#ffffff"):r.a.createElement(F.a,{placeholder:"#ffffff",disabled:e.disabled,value:e.value,onChange:function(t){e.onChange(t.target.value)}}))},date:function(e){var t=e.schema.format,a="time"===(void 0===t?"dateTime":t)?$.a:P.a;return function(e,t,a){var n=e.invalid?{borderColor:"#f5222d"}:{},i=e.schema.format,l=void 0===i?"dateTime":i,o=B(l),s={};e.value?s.value=W()(e.value,o):s.value="";var m=e.description?{placeholder:e.description}:{},u=Object(c.a)({},m,{},e.options,{},s,{style:Object(c.a)({width:"100%"},n),disabled:e.disabled||e.readonly,onChange:t});return"dateTime"===l&&(u.showTime=!0),r.a.createElement(a,u)}(e,(function(t,a){return e.onChange(a)}),a)},dateRange:function(e){return function(e,t,a){var n=e.schema.format,i=void 0===n?"dateTime":n,l=B(i),o={};e.value&&Array.isArray(e.value)&&e.value[0]&&e.value[1]&&(o={defaultValue:[W()(e.value[0],l),W()(e.value[1],l)]});var s=Object(c.a)({},e.options,{},o,{style:{width:"100%"},showTime:"dateTime"===i,disabled:e.disabled||e.readonly,onChange:t});return r.a.createElement(a,s)}(e,(function(t,a){return e.onChange(a)}),Z)},input:function(e){var t=e.options,a=void 0===t?{}:t,n=e.invalid?{borderColor:"#f5222d"}:{},i=e.schema.format,l=void 0===i?"text":i,o="image"===l?"text":l;return r.a.createElement(F.a,Object.assign({style:n},a,{value:e.value,type:o,disabled:e.disabled||e.readonly,addonAfter:a.addonAfter?a.addonAfter:Pe(l,e.value),onChange:function(t){return e.onChange(t.target.value)}}))},list:ge,listEditor:function(e){return r.a.createElement("div",{className:"flex flex-column"},r.a.createElement("div",{className:"fr-set w-100 flex flex-column ba pt4 pb2 ph2 relative b--black-10"},r.a.createElement("span",{className:"fr-move-icon f4"},":::"),e.children,r.a.createElement(re.a,{size:"small",className:"self-end",type:"dashed",icon:r.a.createElement(ve.a,null)},"\u5220\u9664")),r.a.createElement(re.a,{size:"small",className:"self-end",icon:r.a.createElement(be.a,null)},"\u6dfb\u52a0"))},map:function(e){var t=e.children;return r.a.createElement("div",{className:"w-100"},t)},multiSelect:je,number:xe,radio:function(e){return function(e,t,a){var n=a.Group,i=e.schema||{},l=i.enum,o=i.enumNames;return r.a.createElement(n,{disabled:e.disabled||e.readonly,value:e.value,onChange:t},(l||[!0,!1]).map((function(e,t){return r.a.createElement(a,{value:e,key:t},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:o?o[t]:e}}))})))}(e,(function(t){return e.onChange(t.target.value)}),Ce.a)},select:ke,slider:Ie,switch:function(e){return r.a.createElement(Te.a,{disabled:e.disabled||e.readonly,onChange:function(t){return e.onChange(e.name,t)},defaultChecked:e.value})},textarea:function(e){var t=e.options,a=e.invalid?{borderColor:"#f5222d"}:{},n=Object(c.a)({},{rows:3},{},t);return r.a.createElement(De,Object.assign({style:a,disabled:e.disabled||e.readonly,value:e.value},n,{onChange:function(t){return e.onChange(t.target.value)}}))},upload:function(e){var t={name:"file",action:e.action,enctype:"multipart/form-data",withCredentials:!0,type:"file",onChange:function(t){"done"===t.file.status?(Le.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f")),e.onChange(t.file.response.url)):"error"===t.file.status&&Le.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))},onRemove:function(){e.onChange("")}};return r.a.createElement("div",{className:"fr-upload-mod"},r.a.createElement(Re.a,Object.assign({},t,{className:"fr-upload-file"}),r.a.createElement(re.a,null,r.a.createElement(Ae.a,null)," \u4e0a\u4f20")),e.value&&r.a.createElement("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",className:"fr-upload-preview"},"\u5df2\u4e0a\u4f20\u5730\u5740"))}};function We(e){var t=e.onChange,a=e.value,n=e.disabled,i=e.readonly,l=e.options;return r.a.createElement(F.a,Object.assign({disabled:n||i},l,{onChange:function(e){try{var n=X(a,e.target.value);t(n)}catch(r){}},value:U(a)}))}var ze=function(e){var t=e.invalid?{borderColor:"#f5222d"}:{},a=e.schema,n=a.max,i=a.min,l=a.step,o={};(n||0===n)&&(o={max:n}),(i||0===i)&&(o=Object(c.a)({},o,{min:i})),l&&(o=Object(c.a)({},o,{step:l}));var s=!1;e.options&&e.options.hideNumber&&(s=!0);var m,u=100;if("string"===typeof(m=e.value)&&m.endsWith("%"))try{u=Number(e.value.split("%")[0]),Number.isNaN(u)&&(u=100)}catch(f){}var d=function(t){var a=t+"%";e.onChange(a)},p=e.readonly?r.a.createElement("span",{style:{width:"80px"}},""===e.value?"-":e.value+"%"):r.a.createElement(Oe.a,Object.assign({},e.options,o,{style:Object(c.a)({width:"80px"},t),value:u,disabled:e.disabled,onChange:d,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")}}));return r.a.createElement("div",{className:"fr-slider"},r.a.createElement(Se.a,Object.assign({style:{flexGrow:1,marginRight:s?0:12}},o,{onChange:d,max:100,tipFormatter:function(e){return e+"%"},value:u||100,disabled:e.disabled||e.readonly})),s?null:p)},He={default:"input",string:"input",array:"list",boolean:"checkbox",integer:"number",number:"number",object:"map","string:upload":"upload","string:date":"date","string:dateTime":"date","string:time":"date","string:textarea":"textarea","string:color":"color","string:image":"input","range:date":"dateRange","range:dateTime":"dateRange","*?enum":"select","array?enum":"checkboxes","*?readonly":"text"};function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He,a=e.type,n=e.format,r=e.enum,i=e.readonly;if(e["ui:widget"])return e["ui:widget"];var l=[];i&&(l.push("".concat(a,"?readonly")),l.push("*?readonly")),r&&(l.push("".concat(a,"?enum")),l.push("*?enum")),n&&l.push("".concat(a,":").concat(n)),l.push(a);var o="";return l.some((function(e){return!!(o=t[e])})),o}var Je=[].concat(Object(A.a)(w[0]),Object(A.a)(w[1]),Object(A.a)(w[2]));function Ye(){var e,t,a=h(),n=a.flatten,i=a.onItemChange,l=f().selected,o={},s={};try{if((e=n[l])&&(t=Be(e.schema)),t){var m=Je.find((function(e){return e.widget===t})).setting;o={propsSchema:{type:"object",properties:Object(c.a)({},m)}},s=e.schema}}catch(d){console.log(d)}var u=Object(c.a)({},_e,{idInput:We,percentSlider:ze});return r.a.createElement("div",{style:{paddingRight:24,height:700,overflow:"auto"}},r.a.createElement(it,{schema:o,formData:s,onChange:function(e){if(l)try{var t=n[l];t&&t.schema&&i(l,Object(c.a)({},t,{schema:e}))}catch(d){console.log(d,"catch")}},displayType:"row",showDescIcon:!0,widgets:u,preview:!0}))}var Ge=a(182);function Ke(){var e=f(),t=(e.hovering,e.mapping,e.preview,e.selected,e.setState),a=e.widgets,n=Object(o.a)(e,["hovering","mapping","preview","selected","setState","widgets"]);return r.a.createElement("div",{style:{paddingRight:24,height:700,overflow:"auto"}},r.a.createElement(it,{schema:Ge,formData:n,onChange:function(e){t((function(t){return Object(c.a)({},t,{},e)}))},displayType:"row",showDescIcon:!0,widgets:a,preview:!0}))}var Ue=a(350),Xe=Ue.a.TabPane;function qe(){var e=g({showRight:!0,showItemSettings:!1}),t=Object(s.a)(e,2),a=t[0],i=t[1],l=f().selected,o=a.showRight,c=a.showItemSettings,m=function(){return i({showRight:!o})},u=function(){return r.a.createElement("div",{className:"absolute top-0 left-0 pointer",style:{height:30,width:30,padding:"8px 0 0 8px"},onClick:m},r.a.createElement(D.a,{className:"f5"}))},d=function(){return r.a.createElement("div",{className:"absolute right-0 top-0 h2 flex-center",style:{width:40}},r.a.createElement(u,null))};return Object(n.useEffect)((function(){l&&"0"===l[0]||"#"===l||!l?i({showItemSettings:!1}):i({showItemSettings:!0})}),[l]),o?r.a.createElement("div",{className:"right-layout relative pl2"},r.a.createElement(u,null),r.a.createElement(Ue.a,{defaultActiveKey:"1",onChange:function(){}},c&&r.a.createElement(Xe,{tab:"\u7ec4\u4ef6\u914d\u7f6e",key:"1"},r.a.createElement(Ye,null)),r.a.createElement(Xe,{tab:"\u8868\u5355\u914d\u7f6e",key:c?"2":"1"},r.a.createElement(Ke,null)))):r.a.createElement(d,null)}var Ve=function(e){var t=e.children,a=void 0===t?[]:t,n=e.preview,i=h();i.onItemChange,i.flatten;return r.a.createElement(r.a.Fragment,null,a.map((function(e,t){var a={id:e,preview:n};return r.a.createElement(tt,Object.assign({key:t.toString()},a))})))},Ze=function(e){var t,a,n=e.$id,i=e.item,l=e.labelClass,o=e.contentClass,s=e.isComplex,m=e.children,u=h(),d=u.onItemChange,p=u.flatten,g=i.schema,v=i.data,b=f(),y=b.displayType,E=b.showDescIcon,w=b.showValidate,j=b.labelWidth,O=b.widgets,x=b.mapping,C=g.type,N=g.title,k=g.description,S=g.required,I=S&&S.length>0,T=function e(t,a,n){try{var r=n[a];if(void 0!==r.schema[t])return r.schema[t];if(r&&r.parent){var i=n[r.parent].schema;return void 0!==i[t]?i[t]:e(t,r.parent,n)}}catch(l){return}}("ui:labelWidth",n,p)||j,D={width:"number"===typeof(a=T)||"string"===typeof a&&!Number.isNaN(Number(a))?Number(T):"string"===typeof(t=T)&&t.match(/^([0-9])*(%|px|rem|em)$/i)?T:110};("boolean"===C||s||"column"===y)&&(D={flexGrow:1});var A=Be(g,x),L=g["ui:widget"];L&&O[L]&&(A=L);var R=O[A],M={};"checkbox"===A&&(M.marginLeft=T);var F={disabled:g["ui:disabled"],readonly:g["ui:readonly"],hidden:g["ui:hidden"],options:g["ui:options"],labelWidth:g["ui:labelWidth"],width:g["ui:width"]};return r.a.createElement(r.a.Fragment,null,g.title?r.a.createElement("div",{className:l,style:D},r.a.createElement("label",{className:"fr-label-title ".concat("boolean"===C||"column"===y?"no-colon":""),title:N},I&&r.a.createElement("span",{className:"fr-label-required"}," *"),r.a.createElement("span",{className:"".concat(s?"b":""," ").concat("column"===y?"flex-none":"")},N),k&&(E?r.a.createElement("span",{className:"fr-tooltip-toggle","aria-label":k},r.a.createElement("i",{className:"fr-tooltip-icon"}),r.a.createElement("div",{className:"fr-tooltip-container"},r.a.createElement("i",{className:"fr-tooltip-triangle"}),k)):r.a.createElement("span",{className:"fr-desc ml2"},"(\xa0",k,"\xa0)")),"row"!==y&&w&&r.a.createElement("span",{className:"fr-validate"},"validation"))):null,r.a.createElement("div",{className:o,style:M},r.a.createElement(R,Object.assign({value:v,onChange:function(e){var t=Object(c.a)({},i);t.data=e,d(n,t)},schema:g},F,{children:m}))))},Qe=(a(336),a(160));function et(e){var t=e.$id,a=e.item,n=e.inside,i=void 0!==n&&n,l=e.children,o=e.style,m=h(),u=m.flatten,d=(m.onItemChange,m.onFlattenChange),g=p(),v=f(),b=v.selected,y=v.hovering,E=a.schema,w=E.type,j=b===t&&!i;b&&"0"===b[0]&&(j=b.substring(1)===t&&i);var x={backgroundColor:y===(i?"0"+t:t)?"#ecf5ff":"#fff"};if(i?x=Object(c.a)({},x,{borderColor:"#777",padding:"8px 8px 0 8px",backgroundColor:"#fafafa"}):"#"===t?x=Object(c.a)({},x,{borderColor:"#777",padding:12,height:"calc(100vh - 80px)",overflow:"auto",backgroundColor:"#fafafa"}):"object"===w&&(x=Object(c.a)({},x,{paddingTop:12})),j&&(x=Object(c.a)({},x,{outline:"2px solid #409eff",borderColor:"#fff"})),o&&"object"===typeof o&&(x=Object(c.a)({},x,{},o)),"#"===t&&i)return l;var C=E&&E.$id&&U(E.$id);return"#"===C&&(C=""),r.a.createElement("div",{style:x,className:"field-wrapper relative w-100",onClick:function(e){e.stopPropagation(),g({selected:i?"0"+t:t})},onMouseEnter:function(){},onMouseLeave:function(){}},!i&&r.a.createElement("div",{className:"absolute top-0 right-1 blue f7"},C),l,j&&!i&&"#"!==t&&r.a.createElement("div",{style:{position:"absolute",zIndex:20,bottom:-2,right:-2,height:24,width:54,borderTopLeftRadius:8,background:"#409eff",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{className:"pointer",onClick:function(e){e.stopPropagation();var a=Object(c.a)({},u),n="#";try{var r=a[t].parent,i=a[r].children,l=i.indexOf(t);n=l>0?i[l-1]:i[1]||r}catch(o){console.log("catch",o)}delete a[t],d(a),g({selected:n})}},r.a.createElement(ve.a,{style:{height:16,width:16,margin:"0 8px 0 12px",color:"#fff"}})),r.a.createElement("div",{className:"pointer",onClick:function(e){e.stopPropagation();var a=function(e,t){var a=Object(c.a)({},e);try{var n=e[t],r=t+O()(6),i=a[n.parent].children,l=i.findIndex((function(e){return e===t}));return i.splice(l+1,0,r),a[r]=H()(a[t]),a[r].schema.$id=r,[a,r]}catch(o){return console.error(o,"catcherror"),[e,t]}}(u,t),n=Object(s.a)(a,2),r=n[0],i=n[1];d(r),g({selected:i})}},r.a.createElement(Qe.a,{style:{height:16,width:16,marginRight:12,color:"#fff"}}))))}var tt=function(e){var t=e.id,a=void 0===t?"#":t,n=e.preview,i=void 0!==n&&n,l=h(),o=(l.onItemChange,l.onFlattenChange,l.flatten),c=f(),s=c.displayType,m=c.column,u=o[a];if(!u)return null;var d=u.schema,p="object"===d.type,g="array"===d.type&&void 0===d.enum,v=p||g,b=d["ui:width"],y="fr-field w-100 ".concat(v?"fr-field-complex":""),E="fr-label mb2",w="fr-content",j={};switch(!v&&b?j={width:b,paddingRight:"12px"}:!v&&m>1&&(j={width:"calc(100% /".concat(m,")"),paddingRight:"12px"}),d.type){case"object":d.title&&(y+=" ba b--black-20 pt4 pr3 pb2 relative mt3 mb4",E+=" fr-label-object bg-white absolute ph2 top-upper left-1"),y+=" fr-field-object",d.title&&(w+=" ml3");break;case"array":d.title&&!d.enum&&(E+=" mt2 mb3");break;case"boolean":d.title&&(E=(E+=" ml2").replace("mb2","mb0")),w+=" flex items-center",y+=" flex items-center flex-row-reverse justify-end";break;default:"row"===s&&(E=E.replace("mb2","mb0"))}"row"!==s||v||"boolean"===d.type||(y+=" flex items-center",E=(E+=" flex-shrink-0 fr-label-row").replace("mb2","mb0"),w+=" flex-grow-1 relative"),"row"===s&&"boolean"===d.type&&(w+=" flex justify-end pr2");var O={$id:a,item:u,labelClass:E,contentClass:w,isComplex:v},x={children:u.children,preview:i},C=u.children&&u.children.length>0?r.a.createElement("ul",{className:"flex flex-wrap pl0"},r.a.createElement(Ve,x)):null;return i?r.a.createElement("div",{style:j,className:y},r.a.createElement(Ze,O,(p||g)&&C)):Object.keys(o).length<2?r.a.createElement(et,{style:j,$id:a,item:u},r.a.createElement("div",{className:"".concat(y," h-100 f5 black-40 flex items-center justify-center")},"\u70b9\u51fb\u5de6\u4fa7\u680f\u7684\u7ec4\u4ef6\u8fdb\u884c\u6dfb\u52a0")):r.a.createElement(et,{style:j,$id:a,item:u},r.a.createElement("div",{className:y},r.a.createElement(Ze,O,(p||g)&&r.a.createElement(et,{$id:a,item:u,inside:!0},C||r.a.createElement("div",{className:"h2"})))))},at=a(351),nt=(a(153),a(154),a(155),F.a.TextArea),rt=function(e){var t=e.simple,a=void 0===t||t,n=e.schema,i=e.formData,l=e.onChange,p=e.onSchemaChange,f=Object(o.a)(e,["simple","schema","formData","onChange","onSchemaChange"]),h=g({showModal:!1,showModal2:!1,showModal3:!1,schemaForImport:""}),v=Object(s.a)(h,2),y=v[0],E=v[1],w=f.preview,j=f.setState,O=(f.mapping,f.widgets,f.selected,f.hovering,Object(o.a)(f,["preview","setState","mapping","widgets","selected","hovering"])),x=K(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Y(t),r=n.map((function(t){var n=t.name,r=t.schema,i=r.type,l=r.enum,o=r.properties,s=r.items,m="object"===i&&o,u="array"===i&&s&&!l,d=n&&a[t.name];if(!d)return t;if(u){var p=e(s,d.items||{});return Object(c.a)({},t,{schema:Object(c.a)({},t.schema,{},d,{items:p})})}if(m){var f=e(t.schema,d);return Object(c.a)({},t,{schema:f})}return Object(c.a)({},t,{schema:Object(c.a)({},t.schema,{},d)})})),i={};r.forEach((function(e){i[e.name]=e.schema}));var l={};return Object.keys(a).forEach((function(e){"string"===typeof e&&"ui:"===e.substring(0,3)&&(l[e]=a[e])})),J(i)?Object(c.a)({},t,{},l):Object(c.a)({},t,{},l,{properties:i})}(n.propsSchema,n.uiSchema)),C=V(x,i),N=function(e){var t=q(e),a=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";try{var n=t[a].data,r=Object.keys(t),i=r.filter((function(e){var t=a.split("/").length,n=e.split("/").length;return e.indexOf(a)>-1&&n>t}));return i&&i.length>0&&(void 0===n&&["object","array"].indexOf(t[a].schema.type)>-1&&(n={}),i.forEach((function(r){var i=a.split("/").length;if(r.split("/").length===i+1){var l=e(t,r),o=U(r);n[o]=l}}))),n}catch(l){return}}(e);p&&p(t),l(a)},k=function(){return E({showModal:!y.showModal})},S=function(){return E({showModal2:!y.showModal2})},T=function(){return E({showModal3:!y.showModal3})},D="";try{var A=q(C,"#",!0);D=JSON.stringify(Object(c.a)({propsSchema:A},O),null,2)}catch(R){}var L=Object(c.a)({flatten:C,onFlattenChange:N,onItemChange:function(e,t){C[e]=t,N(C)}},f);return a?r.a.createElement(m.Provider,{value:j},r.a.createElement(u.Provider,{value:f},r.a.createElement(d.Provider,{value:L},r.a.createElement(tt,{preview:!0})))):r.a.createElement(m.Provider,{value:j},r.a.createElement(u.Provider,{value:f},r.a.createElement(d.Provider,{value:L},r.a.createElement("div",{className:"flex vh-100 overflow-hidden"},r.a.createElement(I,null),r.a.createElement("div",{className:"mid-layout pr2"},r.a.createElement("div",{className:"mv3 mh1"},r.a.createElement(re.a,{className:"mr2",onClick:function(){j({preview:!w,selected:"#"})}},w?"\u5f00\u59cb\u7f16\u8f91":"\u6700\u7ec8\u5c55\u793a"),r.a.createElement(re.a,{className:"mr2",onClick:function(){j({schema:{propsSchema:{type:"object",properties:{}}},formData:{},selected:void 0})}},"\u6e05\u7a7a"),r.a.createElement(re.a,{className:"mr2",onClick:T},"\u4fdd\u5b58"),r.a.createElement(re.a,{className:"mr2",onClick:S},"\u5bfc\u5165"),r.a.createElement(re.a,{type:"primary",className:"mr2",onClick:k},"\u5bfc\u51faschema")),r.a.createElement(tt,{preview:w})),r.a.createElement(qe,{globalProps:O}),r.a.createElement(at.a,{visible:y.showModal,onOk:function(){b()(D),Le.a.info("\u590d\u5236\u6210\u529f")},onCancel:k,okText:"\u590d\u5236",cancelText:"\u53d6\u6d88"},r.a.createElement("div",{className:"mt3"},r.a.createElement(nt,{style:{fontSize:12},value:D,autoSize:{minRows:10,maxRows:30}}))),r.a.createElement(at.a,{visible:y.showModal2,okText:"\u5bfc\u5165",cancelText:"\u53d6\u6d88",onOk:function(){try{var e=JSON.parse(y.schemaForImport),t=e.propsSchema,a=Object(o.a)(e,["propsSchema"]);j(Object(c.a)({schema:{propsSchema:t},formData:{},selected:void 0},a))}catch(R){Le.a.info("\u683c\u5f0f\u4e0d\u5bf9\u54e6\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5")}S()},onCancel:S},r.a.createElement("div",{className:"mt3"},r.a.createElement(nt,{style:{fontSize:12},value:y.schemaForImport,placeholder:"\u8d34\u5165\u9700\u8981\u5bfc\u5165\u7684schema\uff0c\u6a21\u6837\u53ef\u70b9\u51fb\u5bfc\u51faschema\u53c2\u8003",onChange:function(e){E({schemaForImport:e.target.value})},autoSize:{minRows:10,maxRows:30}}))),r.a.createElement(at.a,{visible:y.showModal3,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:T,onCancel:T},r.a.createElement("div",{className:"mt3"},"\u5f00\u53d1\u4e2d\uff0c\u8bf7\u671f\u5f85"))))))};rt.defaultProps={labelWidth:120};var it=rt,lt={propsSchema:{type:"object",properties:{}},uiSchema:{},formData:{}};var ot=function(){var e=g(Object(c.a)({formData:lt.formData,schema:lt,selected:void 0,hovering:void 0,preview:!1},{displayType:"row"})),t=Object(s.a)(e,2),a=t[0],n=t[1],i=a.schema,l=a.formData,m=a.preview,u=a.selected,d=a.hovering,p=Object(o.a)(a,["schema","formData","preview","selected","hovering"]),f="row"===p.displayType,h=Object(c.a)({},He,{array:"listEditor"}),v=Object(c.a)({preview:m,setState:n,simple:!1,mapping:h,widgets:_e,selected:u,hovering:d},p,{showDescIcon:f}),b=Object(c.a)({schema:i,formData:l,onChange:function(e){n({formData:e})},onSchemaChange:function(e){var t=Object(c.a)({},i,{propsSchema:e});n({schema:t})}},v);return r.a.createElement(it,b)};l.a.render(r.a.createElement(ot,null),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.98eadcd0.chunk.js.map